# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–†–û–ë–õ–ï–ú–´ –ü–û–°–õ–ï –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê DOCKER

**–î–∞—Ç–∞**: 8 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker –≤—Å—ë –≤—Å—Ç–∞–ª–æ

---

## üî¥ –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. Frontend –∑–∞–ø—É—â–µ–Ω –≤ dev —Ä–µ–∂–∏–º–µ ‚ùå

**–ü—Ä–æ–±–ª–µ–º–∞**: Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–ª `npm run dev` (Vite –Ω–∞ –ø–æ—Ä—Ç—É 5174) –≤–º–µ—Å—Ç–æ production nginx

**–ü—Ä–∏—á–∏–Ω–∞**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—ã–ª –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑

**–†–µ—à–µ–Ω–∏–µ**: 
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–¥–∞–ª—ë–Ω —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω frontend —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Dockerfile
- ‚úÖ –ó–∞–ø—É—â–µ–Ω –≤ production —Ä–µ–∂–∏–º–µ —Å nginx

### 2. Certbot –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞**: `certbot_1` –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º Exit 1

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —ç—Ç–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —É–∂–µ –µ—Å—Ç—å

### 3. –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –ë–î ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞**: `password authentication failed for user "postgres"`

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —ç—Ç–æ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–ü—Ä–∏—á–∏–Ω–∞**: –ö—Ç–æ-—Ç–æ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫–∞–∫ `postgres`, –Ω–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `babkimanki_user`

**–†–µ—à–µ–Ω–∏–µ**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –µ—Å–ª–∏ backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### Frontend –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
2. ‚úÖ –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Dockerfile
3. ‚úÖ –ó–∞–ø—É—â–µ–Ω nginx –≤ production —Ä–µ–∂–∏–º–µ
4. ‚úÖ –ü–æ—Ä—Ç 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã
5. ‚úÖ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```
‚úÖ babkimanki_backend_1    - Up (Gunicorn)
‚úÖ babkimanki_db_1         - Up (PostgreSQL)
‚úÖ babkimanki_frontend_1   - Up (Nginx)
‚ö†Ô∏è babkimanki_certbot_1    - Exit 1 (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
```

---

## üß™ –ü–†–û–í–ï–†–ö–ê

### API —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl http://localhost/api/mfos/
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 15 –ú–§–û
```

### Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl http://localhost/
# ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

### Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
docker-compose logs frontend
# ‚úÖ Nginx –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### ‚úÖ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

- ‚úÖ **Backend**: Gunicorn –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000
- ‚úÖ **Database**: PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5432
- ‚úÖ **Frontend**: Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80 –∏ 443
- ‚úÖ **API**: –î–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `/api/mfos/`
- ‚úÖ **Frontend**: –î–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `/`

### ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

- ‚ö†Ô∏è **Certbot**: –ó–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –µ—Å—Ç—å)
- ‚ö†Ô∏è **DB Auth**: –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è `postgres` (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

---

## üîß –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
docker-compose -f docker-compose.yml -f docker-compose.prod.yml ps
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
# Backend
docker-compose -f docker-compose.yml -f docker-compose.prod.yml logs backend

# Frontend
docker-compose -f docker-compose.yml -f docker-compose.prod.yml logs frontend

# Database
docker-compose -f docker-compose.yml -f docker-compose.prod.yml logs db
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—ë:
```bash
docker-compose -f docker-compose.yml -f docker-compose.prod.yml restart
```

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ –í—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!

- ‚úÖ Frontend –∑–∞–ø—É—â–µ–Ω –≤ production —Ä–µ–∂–∏–º–µ
- ‚úÖ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80 –∏ 443
- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã

**–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!** üöÄ

---

**–î–∞—Ç–∞**: 8 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

